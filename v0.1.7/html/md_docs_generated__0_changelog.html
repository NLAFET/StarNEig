<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>StarNEig User&#39;s Guide: Known problems and changelog</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">StarNEig User&#39;s Guide
   &#160;<span id="projectnumber">v0.1.7</span>
   </div>
   <div id="projectbrief">A task-based library for solving dense nonsymmetric eigenvalue problems</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_docs_generated__0_changelog.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Known problems and changelog </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Known problems</h1>
<ul>
<li>If the CUDA support is enabled, then the <a class="el" href="group__starneig__sm__sep.html#ga3180b21861b10ebf4016ee15e2f79d82" title="Computes a Hessenberg decomposition of a general matrix.">starneig_SEP_SM_Hessenberg()</a> interface function cannot always handle problems that do not fit into GPU's memory. The cause of this problem is not known.</li>
<li>The outputs of the <a class="el" href="group__starneig__sm__gep.html#gaaf1e3ec2fc5d8cfb7a7a5464d23a25ed" title="Computes a generalized Schur decomposition given a Hessenberg-triangular decomposition.">starneig_GEP_SM_Schur()</a> and <a class="el" href="group__starneig__dm__gep.html#ga3ffea6beaaec769b16b8f49cb8809a4d" title="Computes a generalized Schur decomposition given a Hessenberg-triangular decomposition.">starneig_GEP_DM_Schur()</a> interface functions are not always in the so-called standard format. It is possible that some diagonal entries in the right-hand side output matrix are negative.</li>
<li>The <a class="el" href="group__starneig__sm__gep.html#ga74739cbe0c292aaaf7c28c9fd383ddcb" title="Computes a generalized eigenvector for each selected generalized eigenvalue.">starneig_GEP_SM_Eigenvectors()</a> interface function may scale the input matrices.</li>
</ul>
<h2>Known compatibility problems</h2>
<h3>BLAS</h3>
<ul>
<li>With some OpenBLAS versions, it is necessary to set the <code>OPENBLAS_NUM_THREADS</code> environmental variable to value <code>1</code> (<code>export OPENBLAS_NUM_THREADS=1</code>).</li>
<li>Some MKL versions can cause poor scalability. The problem appears to be related to Intel's OpenMP library. Setting the <code>KMP_AFFINITY</code> environmental variable to value <code>disabled</code> fixes the problem (<code>export KMP_AFFINITY=disabled</code>).</li>
<li>OpenBLAS version 0.3.1 has a bug that can cause an incorrect result.</li>
<li>OpenBLAS versions 0.3.3-0.3.5 can cause poor scalability.</li>
</ul>
<h3>MPI</h3>
<ul>
<li>Some older OpenMPI versions (&lt;= 2.1.1) have a bug that can cause a segmentation fault during a parallel AED.</li>
<li>The library has an unsolved memory leak problem with OpenMPI. Only large problem sizes are effected. It is not known whether this problem is related to StarNEig, StarPU, OpenMPI or something else. The problem is known to occur with PMIx 2.2.1, UCX 1.5.0, OpenMPI 3.1.3, and StarPU 1.2.8. The memory leak is sometimes accompanied by the following warning: <div class="fragment"><div class="line">mpool.c:38   UCX  WARN  object 0x2652000 was not returned to mpool ucp_requests</div>
</div><!-- fragment --></li>
<li>The test program can trigger the following bug in UCX 1.6.1: <a href="https://github.com/openucx/ucx/issues/4525">https://github.com/openucx/ucx/issues/4525</a></li>
</ul>
<h3>StarPU</h3>
<ul>
<li>For optimal CUDA performance, StarPU version that is newer than 1.3.3 is recommended.</li>
<li>StarPU versions 1.2.4 - 1.2.8 and some StarPU 1.3 snapshots cav cause poor CUDA performance. The problem can be fixed by compiling StarPU with <code>--disable-cuda-memcpy-peer</code>. It is possible that newer versions of StarPU are also effected by this problem.</li>
<li>The <code>STARPU_MINIMUM_AVAILABLE_MEM</code> and <code>STARPU_TARGET_AVAILABLE_MEM</code> environmental variables can be used to fix some GPU-related memory allocation problems: <div class="fragment"><div class="line">STARPU_MINIMUM_AVAILABLE_MEM=10 STARPU_TARGET_AVAILABLE_MEM=15 ...</div>
</div><!-- fragment --></li>
</ul>
<h1>Changelog</h1>
<h2>v0.1.7</h2>
<ul>
<li>Fix a compile error with GCC 10</li>
</ul>
<h2>v0.1.6</h2>
<ul>
<li>Minor improvements to the Hessenberg reduction step</li>
</ul>
<h2>v0.1.5</h2>
<ul>
<li>Disable OpenCL workers during initialization.</li>
<li>Add <code>STARNEIG_USE_ALL</code>.</li>
</ul>
<h2>v0.1.4</h2>
<ul>
<li>Add deb packages.</li>
</ul>
<h2>v0.1.3</h2>
<ul>
<li>Restore older Hessenberg reduction implementation from v0.1-beta2</li>
<li>Rename <code>aed_shift_count</code> parameter as <code>shift_count</code>. Rename the default value <code>STARNEIG_SCHUR_DEFAULT_AED_SHIFT_COUNT</code> as <code>STARNEIG_SCHUR_DEFAULT_SHIFT_COUNT</code>.</li>
<li>Improved performance models.</li>
</ul>
<h2>v0.1.2</h2>
<ul>
<li>Improved performance models.</li>
<li>Updates to the documentation.</li>
<li>Rename <code>STARPU_LIBRARIES_BASE</code> and <code>STARPU_LIBRARIES_MPI</code> environmental variables as <code>STARPU_LIBRARIES</code> and <code>STARPU_MPI_LIBRARIES</code>, respectively.</li>
</ul>
<h2>v0.1.1:</h2>
<ul>
<li>Fix a bug that may cause the code to hang in distributed memory Schur reduction.</li>
</ul>
<h2>v0.1.0:</h2>
<ul>
<li>First stable release of the library.</li>
</ul>
<h2>v0.1-beta.6:</h2>
<ul>
<li>Fix <code><a class="el" href="group__starneig__node.html#ga2b458882b735fc3f41a2116f0b2e78bd" title="Enable CUDA host memory pinning.">starneig_node_enable_pinning()</a></code> and <code><a class="el" href="group__starneig__node.html#ga37cf2c050475b20229e29126b9fe77cd" title="Disables CUDA host memory pinning.">starneig_node_disable_pinning()</a></code> functions.</li>
<li>Built <code>pdgghrd</code> as a separate library.</li>
<li>Deprecate several precompiler defines and interface functions. Add <code>&lt;<a class="el" href="distr__helpers_8h.html" title="This file contains generic distributed memory interface functions.">starneig/distr_helpers.h</a>&gt;</code> header file.</li>
</ul>
<h2>v0.1-beta.5:</h2>
<ul>
<li>Improve the performance of the Hessenberg reduction phase by limiting the number of submitted tasks. This should reduce the task scheduling overhead.</li>
<li>Allocate pinned memory by default when CUDA support is enabled. Add <code>starneig_enable_pinning()</code> and <code>starneig_disable_pinning()</code>.</li>
</ul>
<h2>v0.1-beta.4:</h2>
<ul>
<li>Fix a problem where infinite eigenvalues were detected too late.</li>
<li>Add an option to choose between the norm stable deflation condition (<code>STARNEIG_SCHUR_NORM_STABLE_THRESHOLD</code>) and and the LAPACK style deflation condition (<code>STARNEIG_SCHUR_LAPACK_THRESHOLD</code>).</li>
</ul>
<h2>v0.1-beta.3:</h2>
<ul>
<li>Re-implemented Hessenberg reduction.</li>
</ul>
<h2>v0.1-beta.2:</h2>
<ul>
<li>Fix an installation-related bug.</li>
<li>Fix a MPI-related compile error.</li>
<li>Remove unused code.</li>
</ul>
<h2>v0.1-beta.1:</h2>
<ul>
<li>First beta release of the library. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
